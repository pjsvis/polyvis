<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PolyVis Docs</title>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/viz.js/2.1.2/viz.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/viz.js/2.1.2/full.render.js"></script>

  <link rel="stylesheet" href="/css/app.css" />
  <link rel="stylesheet" href="/css/markdown.css" />
  <!-- Inline Theme Init to prevent FOUC -->
  <script>
    (function () {
      const stored = localStorage.getItem('polyvis-theme');
      if (stored) {
        document.documentElement.setAttribute('data-theme', stored);
      }
    })();
  </script>

  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>
  <!-- Alpine.js -->
  <script src="/js/app.js" defer></script>
  <!-- Theme Logic -->
  <script type="module" src="/js/utils/theme.js"></script>
</head>

<body class="page-layout overflow-hidden h-screen" x-data="docsApp()"
  :class="{ 'loaded': loaded, 'layout-debug-mode': debug }" @keydown.window.shift.d="debug = !debug">

  <div class="app-shell">
    <header class="app-header relative">
      <!-- Mobile Toggle Left -->
      <button class="md:hidden absolute left-4 p-2" @click="leftOpen = !leftOpen; rightOpen = false">
        <i data-lucide="menu" class="w-6 h-6 text-[var(--primary)]"></i>
      </button>

      <div x-data="navigation" x-html="view" class="w-full"></div>

      <!-- Mobile Toggle Right -->
      <button class="md:hidden absolute right-4 p-2" @click="rightOpen = !rightOpen; leftOpen = false">
        <i data-lucide="info" class="w-6 h-6 text-[var(--primary)]"></i>
      </button>
    </header>

    <!-- Mobile Backdrop -->
    <div x-show="leftOpen || rightOpen" @click="leftOpen = false; rightOpen = false" x-transition.opacity
      class="fixed inset-0 bg-black/50 z-40 md:hidden backdrop-blur-sm">
    </div>

    <aside class="app-sidebar-left overflow-y-auto custom-scrollbar md:block p-4 md:translate-x-0 relative"
      :class="{ 'translate-x-0': leftOpen, '-translate-x-full': !leftOpen, 'block': true, 'hidden': false }">
      <div class="container-box docs-directory">
        <div class="border-b border-[var(--primary)] bg-[var(--accent)] p-4 flex justify-between items-center">
          <h3 class="text-sm font-bold tracking-wider uppercase">
            Directory
          </h3>
          <button class="md:hidden" @click="leftOpen = false">
            <i data-lucide="x" class="w-4 h-4"></i>
          </button>
        </div>
        <nav class="file-list-container"></nav>
      </div>
    </aside>

    <main class="app-main overflow-y-auto custom-scrollbar px-2 md:px-6 items-start place-items-start block">
      <div class="prose max-w-[65ch] mx-auto py-8">
        <div id="content" class="min-h-[600px]">
          <div class="flex h-full flex-col items-center justify-center pt-20">
            <p class="animate-pulse font-mono text-gray-400">
              Initializing Reader...
            </p>
          </div>
        </div>
      </div>
    </main>

    <aside class="app-sidebar-right overflow-y-auto custom-scrollbar md:block p-4 md:translate-x-0 relative"
      :class="{ 'translate-x-0': rightOpen, 'translate-x-full': !rightOpen, 'block': true, 'hidden': false }">
      <div class="container-box docs-directory-right">
        <div class="border-b border-[var(--primary)] bg-[var(--accent)] p-4 flex justify-between items-center">
          <h3 class="text-sm font-bold tracking-wider uppercase">
            Directory
          </h3>
          <button class="md:hidden" @click="rightOpen = false">
            <i data-lucide="x" class="w-4 h-4"></i>
          </button>
        </div>
        <nav class="file-list-container"></nav>
      </div>
    </aside>

    <footer class="app-footer text-center font-mono text-xs text-gray-400">
      &copy; 2025 PolyVis | Structural Information Engineering
    </footer>
  </div>


</body>

</html>